Node.js Callback_function Explanation

이 메모장 안의 코드들은 실제 실행되는 코드가 아닙니다,
콜백함수에 대해 이해할수있도록 도와주는 예제입니다

cb , callback

  ---






ex1-1)



var a = function( cb ) {  // 2번째 순서, 임의의 함수에 cb라는 인자값을 받고, cb에 123,c 인자를 넣어 함수를 실행시킵니다.
    cb(123,c);
}


var b = function( num, cb ) { // 3번째 순서, 임의의 함수에 num과 cb라는 인자값을 받고, num에 들어있는 정보를 출력후 함수 cb를 실행시킵니다.
    console.log(num);
    cb();
}


var c = function( ) { // 4번째 순서, 임의의 함수를 실행시킵니다, cccc를 출력합니다.
  console.log("cccc");
}


a(b); // 1번째 순서, 함수 a에 b라는 인자를 넣어 함수를 실행시킵니다.






  ---






    123
    cccc

    위의 과정은 저렇게 출력하도록 만들어진 코드입니다,
    1-2에서는 위의 코드를 이해하도록 설명해두었는데
    그 과정으로 넘어가기전에
    인자안에 무슨 값이 들어가는지 생각해보시길 바랍니다.






  ---






ex1-2)



var a = function( b ) {  // 2번째 순서, 첫번째 순서에서 a함수를 실행시킬때 b라는 인자값을 보냈으므로 받는인자 cb에는 b가 담깁니다, b라는 함수에 123,c라는 인자를 넣어 실행시킵니다.
    b(123,c);
}


var b = function( num, c ) { // 3번째 순서, num,c 에는 각각 123,c가 들어가고, num에는 123이 저장되어있으므로 123을 출력하고 c함수를 실행시킵니다.
    console.log(123);
    c();
}


var c = function( ) { // 4번째 순서, 받는인자,보내는인자 모두 없어서 cccc를 출력합니다
  console.log("cccc");
}


a(b); // 1번째 순서, 함수 a에 b라는 인자를 넣어서 함수를 실행시킵니다.






  ---






    열심히 설명을 해보았는데 이해가 잘 되어있을지 모르겠네요
    어느정도 알겠다! 싶은분들(이있으면 참 좋을텐데..)을 위해 순서를 조금 바꿔보겠습니다






  ---






  ex2-1)



  var a = function( cb ) { // 2번째 순서, 임의의 함수에 cb라는 인자값을 받고, cb에 123 인자를 넣어 실행시킵니다.
    cb(123,c);
  }


  var b = function( num, cb ) {
    console.log(b);
    cb();
  }


  var c = function( cb ) { // 3번째 순서, 임의의 함수에 cb라는 인자값을 받고, cccc를 출력후 cb에 b인자를 넣어 실행시킵니다.
    console.log("cccc");
    cb(b);
  }


  a(c); // 1번째 순서, a함수에 c라는 인자를 넣어 함수를 실행시킵니다.






  ---






    아쉽게도 이 코드에서는 3번째에서 error가 발생하게됩니다
    왜 그런지 한번 생각해보고 설명을 보는게 좋을것같아요 ^~^






  ---






    ex2-2)



    var a = function( c ) { // 2번째 순서, 첫번째 순서에서 a함수를 실행시킬때 c라는 인자값을 보냈으므로 받는인자 cb에는 c가 담깁니다, c라는 함수에 123,c라는 인자를 넣어 실행시킵니다.
      c(123,c);
    }


    var b = function( num, cb ) {
      console.log(b);
      cb();
    }


    var c = function( 123 ) { // 3번째 순서, a함수에서는 2개의 인자값을 보내주었지만 c함수에서는 받는 인자값을 하나로 해두었으므로 cb에는 123이 담기고 cccc를 출력합니다,
      console.log("cccc");                  정수형을 가진 함수는 없으므로 123(b); 의 코드에서 error가 발생하게 됩니다!
      123(b);
    }


    a(c); // 1번째 순서, a함수에 c라는 인자를 넣어 함수를 실행시킵니다.






  ---






    위의 코드같은경우 [보내는 인자값] 과 [받는 인자값] 을 동일하게 해주지 않아서 생기는 오류입니다
    Callback함수를 잘 이해해야 이런 오류가 없겠죠?
    이제 좀 감이 오실꺼라고 믿고 좀더 간략하게 설명하겠습니다






  ---






    ex3-1)



    var a = function( num, cb ) { // 3, 인자 2개 받음, cb함수에 인자2개 담아 실행 // 6, ...
      cb(num,b);
    }


    var b = function( num, cb ) { // 2, 인자 2개 받음, num 출력 , cb함수에 인자2개 담아 실행  // 5, ...
      console.log(num);
      cb(num,c);
    }


    var c = function( num, cb ) { // 4, 인자 2개 받음, cccc 출력 , cb함수에 인자2개 담아 실행 // 7, ...
      console.log("cccc");
      cb(num,a);
    }


    b(123,a); // 1, b함수에 인자2개 보냄.






  ---






    조금 복잡할수 있으니까 직접 써보시면서 과정을 이해하면 좋을것 같습니다






  ---






    ex3-2)



    var a = function( 123, c ) { // 3, [num = 123, cb = c], c함수에 123,b 담아 실행 // 6, ...
      c(123,b);
    }


    var b = function( 123, a ) { // 2, [num = 123, cb = a] , 123 출력 , a함수에 123,c 담아 실행  // 5, ...
      console.log(123);
      a(123,c);
    }


    var c = function( 123, b ) { // 4, [num = 123, cb = b], cccc 출력 , b함수에 123,a 담아 실행 // 7, ...
      console.log("cccc");
      b(123,a);
    }


    b(123,a); // 1, b함수에 123,a를 담아서 실행.






  ---






    위의 코드같은 경우는

    123
    cccc
    123
    cccc

    이를 반복하도록 만들어진 코드입니다

    설명이 주옥같아서 지금까지 잘따라와 주셨을지 의문이네요 ㅠㅠ

    기본적인 Callback 함수에 대한설명은 모두 끝났습니다!
    나머지는 app.js에서 쓰여져 있는 코드들을 하나씩 활성화해 결과값을 확인하면서
    "이게 왜 이렇게 나오지?" 에 대해서 생각해보면 될 것 같습니다
    인자값이 어떻게 넘어가는지 몇가지 주석처리 해놓은 예제들이 있으니까요
    복습하는 차원에서 하나하나 다시 새겨보시면 매우 훌륭할듯 싶습니다~!

    혹시 오타가 있거나 수정해야할 부분이 있다면  gamemaro@edcan.kr  으로 피드백 보내주시면 감사하겠습니다.
